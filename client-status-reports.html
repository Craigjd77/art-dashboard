<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Status Reports | FRT Work Tools</title>
    
    <!-- Chart.js for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Shared Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="style-switcher.css">
    
    <style>
        .report-header {
            background: var(--pbi-card-bg);
            border: 1px solid var(--pbi-border);
            border-radius: 4px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: var(--pbi-shadow);
        }
        
        .report-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--pbi-primary);
            margin-bottom: 4px;
        }
        
        .report-subtitle {
            font-size: 12px;
            color: var(--pbi-text-secondary);
            margin-bottom: 8px;
        }
        
        .report-period {
            font-size: 11px;
            color: var(--pbi-text-secondary);
        }
        
        .report-tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 16px;
            border-bottom: 2px solid var(--pbi-border);
        }
        
        .report-tab {
            padding: 10px 20px;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            font-size: 12px;
            font-weight: 500;
            color: var(--pbi-text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: -2px;
        }
        
        .report-tab:hover {
            color: var(--pbi-primary);
            background: var(--pbi-hover);
        }
        
        .report-tab.active {
            color: var(--pbi-primary);
            border-bottom-color: var(--pbi-primary);
            background: var(--pbi-hover);
        }
        
        .summary-section {
            background: var(--pbi-card-bg);
            border: 1px solid var(--pbi-border);
            border-radius: 4px;
            padding: 12px;
            margin-bottom: 12px;
            box-shadow: var(--pbi-shadow);
        }
        
        .summary-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--pbi-text);
            margin-bottom: 12px;
        }
        
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 11px;
        }
        
        .summary-table thead {
            background: var(--pbi-hover);
        }
        
        .summary-table th {
            padding: 8px 10px;
            text-align: left;
            font-weight: 600;
            color: var(--pbi-text);
            border-bottom: 2px solid var(--pbi-border);
        }
        
        .summary-table th:first-child {
            font-weight: 700;
        }
        
        .summary-table td {
            padding: 8px 10px;
            border-bottom: 1px solid var(--pbi-border-light);
            color: var(--pbi-text);
        }
        
        .summary-table tbody tr:last-child {
            font-weight: 600;
            background: var(--pbi-hover);
        }
        
        .summary-table tbody tr:last-child td {
            border-top: 2px solid var(--pbi-border);
            border-bottom: 2px solid var(--pbi-border);
        }
        
        .summary-table .currency-cell {
            text-align: right;
            font-family: 'Courier New', monospace;
        }
        
        .summary-table .number-cell {
            text-align: right;
        }
        
        .data-table-container {
            background: var(--pbi-card-bg);
            border: 1px solid var(--pbi-border);
            border-radius: 4px;
            padding: 12px;
            box-shadow: var(--pbi-shadow);
            overflow-x: auto;
        }
        
        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .table-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--pbi-text);
        }
        
        .table-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .export-button {
            background: var(--pbi-primary);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            font-size: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: background 0.2s ease;
        }
        
        .export-button:hover {
            background: var(--pbi-primary-dark);
        }
        
        .status-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 10px;
        }
        
        .status-table thead {
            background: var(--pbi-hover);
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .status-table th {
            padding: 8px 6px;
            text-align: left;
            font-weight: 600;
            color: var(--pbi-text);
            border-bottom: 2px solid var(--pbi-border);
            white-space: nowrap;
        }
        
        .status-table td {
            padding: 6px;
            border-bottom: 1px solid var(--pbi-border-light);
            color: var(--pbi-text);
        }
        
        .status-table tbody tr {
            transition: background 0.15s ease;
        }
        
        .status-table tbody tr:hover {
            background: var(--pbi-hover);
        }
        
        .status-table tbody tr:nth-child(even) {
            background: rgba(0, 0, 0, 0.02);
        }
        
        .currency-cell {
            text-align: right;
            font-family: 'Courier New', monospace;
        }
        
        .date-cell {
            white-space: nowrap;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px;
            color: var(--pbi-text-secondary);
            font-size: 12px;
        }
        
        .client-selector-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding: 12px;
            background: var(--pbi-card-bg);
            border: 1px solid var(--pbi-border);
            border-radius: 4px;
            box-shadow: var(--pbi-shadow);
        }
        
        .period-selector {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .period-selector select {
            padding: 6px 10px;
            border: 1px solid var(--pbi-border);
            border-radius: 3px;
            font-size: 11px;
            background: var(--pbi-background);
            color: var(--pbi-text);
        }
        
        .charts-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .chart-card {
            background: var(--pbi-card-bg);
            border: 1px solid var(--pbi-border);
            border-radius: 4px;
            padding: 12px;
            box-shadow: var(--pbi-shadow);
        }
        
        .chart-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--pbi-text);
            margin-bottom: 8px;
        }
        
        .chart-container {
            height: 200px;
            position: relative;
        }
        
        .frt-footer {
            background: var(--pbi-primary);
            color: white;
            padding: 16px;
            margin-top: 24px;
            border-radius: 4px;
            text-align: center;
            font-size: 11px;
        }
        
        .frt-footer a {
            color: white;
            text-decoration: none;
            margin: 0 8px;
        }
        
        .frt-footer a:hover {
            text-decoration: underline;
        }
        
        .frt-logo-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }
        
        .frt-logo {
            width: 40px;
            height: 40px;
            background: var(--pbi-primary);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-left">
            <div class="logo">FRT Work Tools</div>
            <div class="header-title">Client Status Reports</div>
        </div>
        <div class="header-right">
            <div class="user-info">Craig D'Alessio</div>
            <button>Share</button>
        </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="nav-tabs">
        <button class="nav-tab">
            <i class="fas fa-file-check"></i>
            CLIENT ELIGIBILITY & FILINGS
        </button>
        <button class="nav-tab active">
            <i class="fas fa-chart-line"></i>
            CLIENT STATUS REPORTS
        </button>
        <button class="nav-tab">
            <i class="fas fa-bell"></i>
            Client Opt-in Monitoring
        </button>
        <button class="nav-tab">
            <i class="fas fa-money-bill-wave"></i>
            Client Remittance
        </button>
        <button class="nav-tab">
            <i class="fas fa-user-tie"></i>
            Account Manager Dashboard
        </button>
        <button class="nav-tab">+</button>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Client & Period Selector -->
        <div class="client-selector-top">
            <div style="display: flex; align-items: center; gap: 12px;">
                <label style="font-size: 11px; font-weight: 500;">Client:</label>
                <select id="clientSelect" style="padding: 6px 10px; border: 1px solid var(--pbi-border); border-radius: 3px; font-size: 11px; min-width: 250px;">
                    <option value="demo">DEMOFRTCLIENT</option>
                    <option value="wellington">Wellington Management</option>
                    <option value="blackrock">BlackRock</option>
                    <option value="schwab">Charles Schwab Investment Management</option>
                </select>
            </div>
            <div class="period-selector">
                <label style="font-size: 11px; font-weight: 500;">Report Period:</label>
                <select id="periodSelect" style="padding: 6px 10px; border: 1px solid var(--pbi-border); border-radius: 3px; font-size: 11px;">
                    <option value="monthly">Monthly</option>
                    <option value="quarterly">Quarterly</option>
                </select>
                <select id="monthSelect" style="padding: 6px 10px; border: 1px solid var(--pbi-border); border-radius: 3px; font-size: 11px;">
                    <option value="2024-10">October 2024</option>
                    <option value="2024-09">September 2024</option>
                    <option value="2024-08">August 2024</option>
                </select>
            </div>
        </div>

        <!-- Report Header -->
        <div class="report-header">
            <div class="frt-logo-header">
                <div class="frt-logo">FRT</div>
                <div>
                    <div class="report-title">FRT FINANCIAL RECOVERY TECH</div>
                    <div class="report-subtitle">Status Report for <span id="reportClientName">DEMOFRTCLIENT</span></div>
                    <div class="report-period">Period from <span id="reportPeriodStart">10/1/2024</span> to <span id="reportPeriodEnd">10/31/2024</span></div>
                </div>
            </div>
        </div>

        <!-- Report Tabs -->
        <div class="report-tabs">
            <button class="report-tab active" data-tab="settled">Settled Action Recovery</button>
            <button class="report-tab" data-tab="antitrust">Antitrust Recovery</button>
            <button class="report-tab" data-tab="nonus">Non-US Group Recovery</button>
        </div>

        <!-- Settled Action Recovery Tab -->
        <div class="report-tab-content" id="settledTab">
            <!-- Summary Section -->
            <div class="summary-section">
                <div class="summary-title">Summary</div>
                <table class="summary-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Settlement Fund</th>
                            <th># Claims</th>
                            <th>Total Recognized Loss<br>Pro Rata Shares</th>
                            <th>$ Recovered</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Newly Filed</strong></td>
                            <td class="currency-cell" id="settledNewlyFiledFund">$7,721,288,700.00</td>
                            <td class="number-cell" id="settledNewlyFiledClaims">1,247</td>
                            <td class="currency-cell">$45,234,567.89</td>
                            <td class="currency-cell" id="settledNewlyFiledRecovered">$1,607,311.00</td>
                        </tr>
                        <tr>
                            <td><strong>Newly Paid</strong></td>
                            <td class="currency-cell" id="settledNewlyPaidFund">$1,234,567,890.00</td>
                            <td class="number-cell" id="settledNewlyPaidClaims">342</td>
                            <td class="currency-cell">$8,765,432.10</td>
                            <td class="currency-cell" id="settledNewlyPaidRecovered">$456,789.00</td>
                        </tr>
                        <tr>
                            <td><strong>Previously Filed</strong></td>
                            <td class="currency-cell" id="settledPreviouslyFiledFund">$2,145,234,500.00</td>
                            <td class="number-cell" id="settledPreviouslyFiledClaims">856</td>
                            <td class="currency-cell">$12,345,678.90</td>
                            <td class="currency-cell" id="settledPreviouslyFiledRecovered">$892,445.00</td>
                        </tr>
                        <tr>
                            <td><strong>Total</strong></td>
                            <td class="currency-cell" id="settledTotalFund">$9,866,523,200.00</td>
                            <td class="number-cell" id="settledTotalClaims">2,103</td>
                            <td class="currency-cell">$57,580,246.79</td>
                            <td class="currency-cell" id="settledTotalRecovered">$2,499,756.00</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Newly Paid Section -->
            <div class="data-table-container" style="margin-bottom: 12px;">
                <div class="table-header">
                    <div class="table-title">Newly Paid - This Period</div>
                    <div class="table-controls">
                        <button class="export-button" onclick="exportTable('settledNewlyPaidTable', 'Settled_Newly_Paid')">
                            <i class="fas fa-download"></i> Export to Excel
                        </button>
                    </div>
                </div>
                <div style="overflow-x: auto; max-height: 400px; overflow-y: auto;">
                    <table class="status-table" id="settledNewlyPaidTable">
                        <thead>
                            <tr>
                                <th>Company Name</th>
                                <th>CUSIP/ISIN</th>
                                <th>Account Name</th>
                                <th>Account Number</th>
                                <th>Claim Filed Date</th>
                                <th>Settlement Fund</th>
                                <th>Class Period Start</th>
                                <th>Class Period End</th>
                                <th>Rec Date</th>
                                <th>$ Recovered</th>
                                <th>FRT Fee</th>
                                <th>Net to Client</th>
                                <th>Claims Administrator</th>
                            </tr>
                        </thead>
                        <tbody id="settledNewlyPaidTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-section">
                <div class="chart-card">
                    <div class="chart-title">Recovery by Month</div>
                    <div class="chart-container">
                        <canvas id="recoveryByMonthChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <div class="chart-title">Top 10 Companies by Recovery</div>
                    <div class="chart-container">
                        <canvas id="topCompaniesChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Data Table -->
            <div class="data-table-container">
                <div class="table-header">
                    <div class="table-title">Settled Action Recovery Details</div>
                    <div class="table-controls">
                        <button class="export-button" onclick="exportTable('settledTable', 'Settled_Action_Recovery')">
                            <i class="fas fa-download"></i> Export to Excel
                        </button>
                    </div>
                </div>
                <div style="overflow-x: auto; max-height: 600px; overflow-y: auto;">
                    <table class="status-table" id="settledTable">
                        <thead>
                            <tr>
                                <th>Company Name</th>
                                <th>CUSIP/ISIN</th>
                                <th>Account Name</th>
                                <th>Account Number</th>
                                <th>Claim Filed Date</th>
                                <th>Settlement Fund</th>
                                <th>Class Period Start</th>
                                <th>Class Period End</th>
                                <th>Rec Date</th>
                                <th>$ Recovered</th>
                                <th>FRT Fee</th>
                                <th>Net to Client</th>
                                <th>Claims Administrator</th>
                            </tr>
                        </thead>
                        <tbody id="settledTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Antitrust Recovery Tab -->
        <div class="report-tab-content" id="antitrustTab" style="display: none;">
            <!-- Summary Section -->
            <div class="summary-section">
                <div class="summary-title">Summary</div>
                <table class="summary-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Settlement Fund</th>
                            <th># Claims</th>
                            <th>$ Recovered</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Newly Filed</strong></td>
                            <td class="currency-cell" id="antitrustNewlyFiledFund">$1,000.00</td>
                            <td class="number-cell" id="antitrustNewlyFiledClaims">1</td>
                            <td class="currency-cell" id="antitrustNewlyFiledRecovered">$1,500.00</td>
                        </tr>
                        <tr>
                            <td><strong>New Paid</strong></td>
                            <td class="currency-cell" id="antitrustNewPaidFund">$0.00</td>
                            <td class="number-cell" id="antitrustNewPaidCases">0</td>
                            <td class="currency-cell">$0.00</td>
                        </tr>
                        <tr>
                            <td><strong>Total</strong></td>
                            <td class="currency-cell" id="antitrustTotalFund">$1,000.00</td>
                            <td class="number-cell" id="antitrustTotalCases">1</td>
                            <td class="currency-cell" id="antitrustTotalRecovered">$1,500.00</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Newly Paid Section -->
            <div class="data-table-container" style="margin-bottom: 12px;">
                <div class="table-header">
                    <div class="table-title">Newly Paid - This Period</div>
                    <div class="table-controls">
                        <button class="export-button" onclick="exportTable('antitrustNewlyPaidTable', 'Antitrust_Newly_Paid')">
                            <i class="fas fa-download"></i> Export to Excel
                        </button>
                    </div>
                </div>
                <div style="overflow-x: auto; max-height: 400px; overflow-y: auto;">
                    <table class="status-table" id="antitrustNewlyPaidTable">
                        <thead>
                            <tr>
                                <th>Case Name</th>
                                <th>Account Name</th>
                                <th>Account Number</th>
                                <th>Claim Deadline</th>
                                <th>Filed Date</th>
                                <th>Settlement Fund</th>
                                <th>Class Period Start</th>
                                <th>Class Period End</th>
                                <th>Pay Date</th>
                                <th>$ Recovered</th>
                                <th>Claims Administrator</th>
                            </tr>
                        </thead>
                        <tbody id="antitrustNewlyPaidTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Data Table -->
            <div class="data-table-container">
                <div class="table-header">
                    <div class="table-title">Antitrust Recovery Details</div>
                    <div class="table-controls">
                        <button class="export-button" onclick="exportTable('antitrustTable', 'Antitrust_Recovery')">
                            <i class="fas fa-download"></i> Export to Excel
                        </button>
                    </div>
                </div>
                <div style="overflow-x: auto; max-height: 600px; overflow-y: auto;">
                    <table class="status-table" id="antitrustTable">
                        <thead>
                            <tr>
                                <th>Case Name</th>
                                <th>Account Name</th>
                                <th>Account Number</th>
                                <th>Claim Deadline</th>
                                <th>Filed Date</th>
                                <th>Settlement Fund</th>
                                <th>Class Period Start</th>
                                <th>Class Period End</th>
                                <th>Est Pay Date</th>
                                <th>Claims Administrator</th>
                            </tr>
                        </thead>
                        <tbody id="antitrustTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Non-US Group Recovery Tab -->
        <div class="report-tab-content" id="nonusTab" style="display: none;">
            <!-- Summary Section -->
            <div class="summary-section">
                <div class="summary-title">Summary</div>
                <table class="summary-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th># Cases</th>
                            <th>Settlement Fund</th>
                            <th># Claims</th>
                            <th>FRT Damages</th>
                            <th>Damaged Shares</th>
                            <th>$ Recovered</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Newly Registered</strong></td>
                            <td class="number-cell" id="nonusNewlyRegisteredCases">1</td>
                            <td class="currency-cell" id="nonusNewlyRegisteredFund">$211,500,000.00</td>
                            <td class="number-cell" id="nonusNewlyRegisteredClaims">17</td>
                            <td class="currency-cell" id="nonusNewlyRegisteredDamages">$6,844,934.60</td>
                            <td class="number-cell">125,611</td>
                            <td class="currency-cell">$0.00</td>
                        </tr>
                        <tr>
                            <td><strong>Previously Registered</strong></td>
                            <td class="number-cell" id="nonusPreviouslyRegisteredCases">16</td>
                            <td class="currency-cell" id="nonusPreviouslyRegisteredFund">$0.00</td>
                            <td class="number-cell">0</td>
                            <td class="currency-cell" id="nonusPreviouslyRegisteredDamages">$211,412,900.29</td>
                            <td class="number-cell">2,023,322</td>
                            <td class="currency-cell">$0.00</td>
                        </tr>
                        <tr>
                            <td><strong>Total</strong></td>
                            <td class="number-cell" id="nonusTotalCases">17</td>
                            <td class="currency-cell" id="nonusTotalFund">$211,500,000.00</td>
                            <td class="number-cell" id="nonusTotalClaims">17</td>
                            <td class="currency-cell" id="nonusTotalDamages">$218,257,834.89</td>
                            <td class="number-cell">2,148,933</td>
                            <td class="currency-cell">$0.00</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Newly Paid Section -->
            <div class="data-table-container" style="margin-bottom: 12px;">
                <div class="table-header">
                    <div class="table-title">Newly Paid - This Period</div>
                    <div class="table-controls">
                        <button class="export-button" onclick="exportTable('nonusNewlyPaidTable', 'NonUS_Newly_Paid')">
                            <i class="fas fa-download"></i> Export to Excel
                        </button>
                    </div>
                </div>
                <div style="overflow-x: auto; max-height: 400px; overflow-y: auto;">
                    <table class="status-table" id="nonusNewlyPaidTable">
                        <thead>
                            <tr>
                                <th>Case Name</th>
                                <th>CUSIP(s)</th>
                                <th>Account Name</th>
                                <th>Account Number</th>
                                <th>Participation Deadline</th>
                                <th>Participation Date</th>
                                <th>Settlement Fund</th>
                                <th>Class Period Start</th>
                                <th>Class Period End</th>
                                <th>FRT Damages</th>
                                <th>Damaged Shares</th>
                                <th>$ Recovered</th>
                            </tr>
                        </thead>
                        <tbody id="nonusNewlyPaidTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Previously Registered Section -->
            <div class="data-table-container">
                <div class="table-header">
                    <div class="table-title">Previously Registered</div>
                    <div class="table-controls">
                        <button class="export-button" onclick="exportTable('nonusTable', 'Non_US_Group_Recovery')">
                            <i class="fas fa-download"></i> Export to Excel
                        </button>
                    </div>
                </div>
                <div style="overflow-x: auto; max-height: 600px; overflow-y: auto;">
                    <table class="status-table" id="nonusTable">
                        <thead>
                            <tr>
                                <th>Case Name</th>
                                <th>CUSIP(s)</th>
                                <th>Account Name</th>
                                <th>Account Number</th>
                                <th>Participation Deadline</th>
                                <th>Participation Date</th>
                                <th>Settlement Fund</th>
                                <th>Class Period Start</th>
                                <th>Class Period End</th>
                                <th>FRT Damages</th>
                                <th>Damaged Shares</th>
                            </tr>
                        </thead>
                        <tbody id="nonusTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- FRT Footer -->
    <div class="frt-footer">
        <div style="margin-bottom: 8px;">
            <strong>FRT Financial Recovery Technologies LLC</strong> | 
            <a href="https://www.frtservices.com" target="_blank">www.frtservices.com</a> | 
            <a href="mailto:info@frtservices.com">info@frtservices.com</a>
        </div>
        <div style="opacity: 0.9; font-size: 10px;">
            This report is confidential and proprietary. Unauthorized distribution is prohibited.
        </div>
    </div>

    <!-- Style Switcher -->
    <div id="styleSwitcher"></div>
    <script src="style-switcher.js"></script>

    <script>
        // Sample data - Expanded with many more rows
        const settledNewlyPaidData = [
            { company: 'TESLA INC', cusip: '88160R101', accountName: 'Account Name 1357', accountNumber: 'Account Number 1357', filedDate: '09-15-2024', fund: '$195,000,000.00', periodStart: '06-01-2019', periodEnd: '09-01-2019', recDate: '10-25-2024', recovered: '$34,567.89', fee: '$345.68', net: '$34,222.21', admin: 'Gland & Co' },
            { company: 'META PLATFORMS', cusip: '30303M102', accountName: 'Account Name 8024', accountNumber: 'Account Number 8024', filedDate: '09-20-2024', fund: '$310,000,000.00', periodStart: '07-01-2019', periodEnd: '10-01-2019', recDate: '10-26-2024', recovered: '$67,890.12', fee: '$678.90', net: '$67,211.22', admin: 'Garden City Group' },
            { company: 'NVIDIA CORP', cusip: '67066G104', accountName: 'Account Name 4680', accountNumber: 'Account Number 4680', filedDate: '09-25-2024', fund: '$175,000,000.00', periodStart: '08-01-2019', periodEnd: '11-01-2019', recDate: '10-27-2024', recovered: '$23,456.78', fee: '$234.57', net: '$23,222.21', admin: 'Epiq Systems' },
            { company: 'BANK OF AMERICA', cusip: '060505104', accountName: 'Account Name 5791', accountNumber: 'Account Number 5791', filedDate: '09-28-2024', fund: '$225,000,000.00', periodStart: '09-01-2019', periodEnd: '12-01-2019', recDate: '10-28-2024', recovered: '$45,678.90', fee: '$456.79', net: '$45,222.11', admin: 'A.B. Data, Ltd' },
            { company: 'WELLS FARGO & CO', cusip: '949746101', accountName: 'Account Name 6802', accountNumber: 'Account Number 6802', filedDate: '09-30-2024', fund: '$140,000,000.00', periodStart: '10-01-2019', periodEnd: '01-01-2020', recDate: '10-29-2024', recovered: '$19,876.54', fee: '$198.77', net: '$19,677.77', admin: 'Gland & Co' }
        ];

        const settledData = [
            { company: 'APACHE CORP', cusip: '037411100', accountName: 'Account Name 1234', accountNumber: 'Account Number 1234', filedDate: '10-09-2024', fund: '$65,000,000.00', periodStart: '01-01-2018', periodEnd: '01-01-2020', recDate: '10-19-2024', recovered: '$1,065.95', fee: '$10.33', net: '$18,875.29', admin: 'A.B. Data, Ltd' },
            { company: 'APPLE INC', cusip: '037833100', accountName: 'Account Name 5678', accountNumber: 'Account Number 5678', filedDate: '10-10-2024', fund: '$490,000,000.00', periodStart: '11-01-2018', periodEnd: '01-02-2019', recDate: '10-20-2024', recovered: '$45,230.12', fee: '$452.30', net: '$44,777.82', admin: 'Gland & Co' },
            { company: 'JPMORGAN', cusip: '46625H100', accountName: 'Account Name 9012', accountNumber: 'Account Number 9012', filedDate: '10-11-2024', fund: '$150,000,000.00', periodStart: '02-01-2019', periodEnd: '05-01-2019', recDate: '10-21-2024', recovered: '$12,456.78', fee: '$124.57', net: '$12,332.21', admin: 'Epiq Systems' },
            { company: 'MICROSOFT CORP', cusip: '594918104', accountName: 'Account Name 3456', accountNumber: 'Account Number 3456', filedDate: '10-12-2024', fund: '$350,000,000.00', periodStart: '03-01-2019', periodEnd: '06-01-2019', recDate: '10-22-2024', recovered: '$78,945.23', fee: '$789.45', net: '$78,155.78', admin: 'Garden City Group' },
            { company: 'AMAZON.COM INC', cusip: '023135106', accountName: 'Account Name 7890', accountNumber: 'Account Number 7890', filedDate: '10-13-2024', fund: '$280,000,000.00', periodStart: '04-01-2019', periodEnd: '07-01-2019', recDate: '10-23-2024', recovered: '$56,789.45', fee: '$567.89', net: '$56,221.56', admin: 'Epiq Systems' },
            { company: 'ALPHABET INC', cusip: '02079K305', accountName: 'Account Name 2468', accountNumber: 'Account Number 2468', filedDate: '10-14-2024', fund: '$420,000,000.00', periodStart: '05-01-2019', periodEnd: '08-01-2019', recDate: '10-24-2024', recovered: '$89,123.67', fee: '$891.24', net: '$88,232.43', admin: 'A.B. Data, Ltd' },
            { company: 'TESLA INC', cusip: '88160R101', accountName: 'Account Name 1357', accountNumber: 'Account Number 1357', filedDate: '10-15-2024', fund: '$195,000,000.00', periodStart: '06-01-2019', periodEnd: '09-01-2019', recDate: '10-25-2024', recovered: '$34,567.89', fee: '$345.68', net: '$34,222.21', admin: 'Gland & Co' },
            { company: 'META PLATFORMS', cusip: '30303M102', accountName: 'Account Name 8024', accountNumber: 'Account Number 8024', filedDate: '10-16-2024', fund: '$310,000,000.00', periodStart: '07-01-2019', periodEnd: '10-01-2019', recDate: '10-26-2024', recovered: '$67,890.12', fee: '$678.90', net: '$67,211.22', admin: 'Garden City Group' },
            { company: 'NVIDIA CORP', cusip: '67066G104', accountName: 'Account Name 4680', accountNumber: 'Account Number 4680', filedDate: '10-17-2024', fund: '$175,000,000.00', periodStart: '08-01-2019', periodEnd: '11-01-2019', recDate: '10-27-2024', recovered: '$23,456.78', fee: '$234.57', net: '$23,222.21', admin: 'Epiq Systems' },
            { company: 'BANK OF AMERICA', cusip: '060505104', accountName: 'Account Name 5791', accountNumber: 'Account Number 5791', filedDate: '10-18-2024', fund: '$225,000,000.00', periodStart: '09-01-2019', periodEnd: '12-01-2019', recDate: '10-28-2024', recovered: '$45,678.90', fee: '$456.79', net: '$45,222.11', admin: 'A.B. Data, Ltd' },
            { company: 'WELLS FARGO & CO', cusip: '949746101', accountName: 'Account Name 6802', accountNumber: 'Account Number 6802', filedDate: '10-19-2024', fund: '$140,000,000.00', periodStart: '10-01-2019', periodEnd: '01-01-2020', recDate: '10-29-2024', recovered: '$19,876.54', fee: '$198.77', net: '$19,677.77', admin: 'Gland & Co' },
            { company: 'GOLDMAN SACHS', cusip: '38141G104', accountName: 'Account Name 7913', accountNumber: 'Account Number 7913', filedDate: '10-20-2024', fund: '$265,000,000.00', periodStart: '11-01-2019', periodEnd: '02-01-2020', recDate: '10-30-2024', recovered: '$52,345.67', fee: '$523.46', net: '$51,822.21', admin: 'Garden City Group' },
            { company: 'MORGAN STANLEY', cusip: '617446448', accountName: 'Account Name 8024', accountNumber: 'Account Number 8024', filedDate: '10-21-2024', fund: '$190,000,000.00', periodStart: '12-01-2019', periodEnd: '03-01-2020', recDate: '10-31-2024', recovered: '$38,901.23', fee: '$389.01', net: '$38,512.22', admin: 'Epiq Systems' },
            { company: 'CITIGROUP INC', cusip: '172967424', accountName: 'Account Name 9135', accountNumber: 'Account Number 9135', filedDate: '10-22-2024', fund: '$155,000,000.00', periodStart: '01-01-2020', periodEnd: '04-01-2020', recDate: '11-01-2024', recovered: '$27,654.32', fee: '$276.54', net: '$27,377.78', admin: 'A.B. Data, Ltd' },
            { company: 'BERKSHIRE HATHAWAY', cusip: '084670702', accountName: 'Account Name 0246', accountNumber: 'Account Number 0246', filedDate: '10-23-2024', fund: '$380,000,000.00', periodStart: '02-01-2020', periodEnd: '05-01-2020', recDate: '11-02-2024', recovered: '$71,234.56', fee: '$712.35', net: '$70,522.21', admin: 'Gland & Co' },
            { company: 'JOHNSON & JOHNSON', cusip: '478160104', accountName: 'Account Name 1357', accountNumber: 'Account Number 1357', filedDate: '10-24-2024', fund: '$220,000,000.00', periodStart: '03-01-2020', periodEnd: '06-01-2020', recDate: '11-03-2024', recovered: '$43,567.89', fee: '$435.68', net: '$43,132.21', admin: 'Garden City Group' },
            { company: 'PROCTER & GAMBLE', cusip: '742718109', accountName: 'Account Name 2468', accountNumber: 'Account Number 2468', filedDate: '10-25-2024', fund: '$165,000,000.00', periodStart: '04-01-2020', periodEnd: '07-01-2020', recDate: '11-04-2024', recovered: '$31,789.01', fee: '$317.89', net: '$31,471.12', admin: 'Epiq Systems' },
            { company: 'COCA-COLA CO', cusip: '191216100', accountName: 'Account Name 3579', accountNumber: 'Account Number 3579', filedDate: '10-26-2024', fund: '$145,000,000.00', periodStart: '05-01-2020', periodEnd: '08-01-2020', recDate: '11-05-2024', recovered: '$28,901.23', fee: '$289.01', net: '$28,612.22', admin: 'A.B. Data, Ltd' },
            { company: 'WALMART INC', cusip: '931142103', accountName: 'Account Name 4680', accountNumber: 'Account Number 4680', filedDate: '10-27-2024', fund: '$200,000,000.00', periodStart: '06-01-2020', periodEnd: '09-01-2020', recDate: '11-06-2024', recovered: '$39,876.54', fee: '$398.77', net: '$39,477.77', admin: 'Gland & Co' },
            { company: 'HOME DEPOT', cusip: '437076102', accountName: 'Account Name 5791', accountNumber: 'Account Number 5791', filedDate: '10-28-2024', fund: '$130,000,000.00', periodStart: '07-01-2020', periodEnd: '10-01-2020', recDate: '11-07-2024', recovered: '$25,432.10', fee: '$254.32', net: '$25,177.78', admin: 'Garden City Group' }
        ];

        const antitrustNewlyPaidData = [
            { caseName: 'Foreign Exchange Antitrust', accountName: 'Account Name 9999', accountNumber: 'Account Number 9999', deadline: '06-15-2024', filedDate: '06-10-2024', fund: '$2,300,000,000.00', periodStart: '01-01-2003', periodEnd: '12-31-2013', payDate: '10-15-2024', recovered: '$125,678.90', admin: 'Garden City Group' }
        ];

        const antitrustData = [
            { caseName: 'Stock (Lending) IFER', accountName: 'Account Name 1234', accountNumber: 'Account Number 1234', deadline: '07-08-2024', filedDate: '07-05-2024', fund: '$180,000.00', periodStart: '01-07-2009', periodEnd: '08-22-2023', estPay: '10-31-2025', admin: 'Epic Systems' }
        ];

        const nonusNewlyPaidData = [
            { caseName: 'BHP Billiton', cusip: '088608108', accountName: 'Account Name 5678', accountNumber: 'Account Number 5678', deadline: '11-30-2024', participationDate: '10-15-2024', fund: '$180,000,000.00', periodStart: '02-01-2019', periodEnd: '05-01-2020', damages: '$101,166,114.56', shares: '2,023,322', recovered: '$45,234.56' }
        ];

        const nonusData = [
            { caseName: 'Medibank Private Ltd', cusip: '58532R100', accountName: 'Account Name 1234', accountNumber: 'Account Number 1234', deadline: '12-15-2024', participationDate: '11-01-2024', fund: '$211,500,000.00', periodStart: '01-01-2020', periodEnd: '12-31-2022', damages: '$6,280,566.06', shares: '125,611' },
            { caseName: 'BHP Billiton', cusip: '088608108', accountName: 'Account Name 5678', accountNumber: 'Account Number 5678', deadline: '11-30-2024', participationDate: '10-15-2024', fund: '$180,000,000.00', periodStart: '02-01-2019', periodEnd: '05-01-2020', damages: '$101,166,114.56', shares: '2,023,322' },
            { caseName: 'Boral Limited', cusip: '099535100', accountName: 'Account Name 9012', accountNumber: 'Account Number 9012', deadline: '01-15-2025', participationDate: '09-20-2024', fund: '$95,000,000.00', periodStart: '03-01-2020', periodEnd: '06-01-2021', damages: '$7,423,533.25', shares: '148,471' }
        ];

        // Tab switching
        document.querySelectorAll('.report-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.dataset.tab;
                
                // Update tab active state
                document.querySelectorAll('.report-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // Show/hide tab content
                document.querySelectorAll('.report-tab-content').forEach(content => {
                    content.style.display = 'none';
                });
                document.getElementById(tabName + 'Tab').style.display = 'block';
            });
        });

        // Populate tables
        function populateSettledTable() {
            const tbody = document.getElementById('settledTableBody');
            tbody.innerHTML = '';
            
            settledData.forEach(row => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${row.company}</td>
                    <td>${row.cusip}</td>
                    <td>${row.accountName}</td>
                    <td>${row.accountNumber}</td>
                    <td class="date-cell">${row.filedDate}</td>
                    <td class="currency-cell">${row.fund}</td>
                    <td class="date-cell">${row.periodStart}</td>
                    <td class="date-cell">${row.periodEnd}</td>
                    <td class="date-cell">${row.recDate}</td>
                    <td class="currency-cell">${row.recovered}</td>
                    <td class="currency-cell">${row.fee}</td>
                    <td class="currency-cell">${row.net}</td>
                    <td>${row.admin}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function populateAntitrustNewlyPaidTable() {
            const tbody = document.getElementById('antitrustNewlyPaidTableBody');
            tbody.innerHTML = '';
            
            antitrustNewlyPaidData.forEach(row => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${row.caseName}</td>
                    <td>${row.accountName}</td>
                    <td>${row.accountNumber}</td>
                    <td class="date-cell">${row.deadline}</td>
                    <td class="date-cell">${row.filedDate}</td>
                    <td class="currency-cell">${row.fund}</td>
                    <td class="date-cell">${row.periodStart}</td>
                    <td class="date-cell">${row.periodEnd}</td>
                    <td class="date-cell">${row.payDate}</td>
                    <td class="currency-cell">${row.recovered}</td>
                    <td>${row.admin}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function populateAntitrustTable() {
            const tbody = document.getElementById('antitrustTableBody');
            tbody.innerHTML = '';
            
            antitrustData.forEach(row => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${row.caseName}</td>
                    <td>${row.accountName}</td>
                    <td>${row.accountNumber}</td>
                    <td class="date-cell">${row.deadline}</td>
                    <td class="date-cell">${row.filedDate}</td>
                    <td class="currency-cell">${row.fund}</td>
                    <td class="date-cell">${row.periodStart}</td>
                    <td class="date-cell">${row.periodEnd}</td>
                    <td class="date-cell">${row.estPay}</td>
                    <td>${row.admin}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function populateNonusNewlyPaidTable() {
            const tbody = document.getElementById('nonusNewlyPaidTableBody');
            tbody.innerHTML = '';
            
            nonusNewlyPaidData.forEach(row => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${row.caseName}</td>
                    <td>${row.cusip}</td>
                    <td>${row.accountName}</td>
                    <td>${row.accountNumber}</td>
                    <td class="date-cell">${row.deadline}</td>
                    <td class="date-cell">${row.participationDate}</td>
                    <td class="currency-cell">${row.fund}</td>
                    <td class="date-cell">${row.periodStart}</td>
                    <td class="date-cell">${row.periodEnd}</td>
                    <td class="currency-cell">${row.damages}</td>
                    <td>${row.shares}</td>
                    <td class="currency-cell">${row.recovered}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function populateNonusTable() {
            const tbody = document.getElementById('nonusTableBody');
            tbody.innerHTML = '';
            
            nonusData.forEach(row => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${row.caseName}</td>
                    <td>${row.cusip}</td>
                    <td>${row.accountName}</td>
                    <td>${row.accountNumber}</td>
                    <td class="date-cell">${row.deadline}</td>
                    <td class="date-cell">${row.participationDate}</td>
                    <td class="currency-cell">${row.fund}</td>
                    <td class="date-cell">${row.periodStart}</td>
                    <td class="date-cell">${row.periodEnd}</td>
                    <td class="currency-cell">${row.damages}</td>
                    <td>${row.shares}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        // Export function
        function exportTable(tableId, filename) {
            const table = document.getElementById(tableId);
            if (!table) return;
            
            let csv = [];
            const rows = table.querySelectorAll('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const row = [];
                const cols = rows[i].querySelectorAll('td, th');
                
                for (let j = 0; j < cols.length; j++) {
                    let data = cols[j].innerText.replace(/(\r\n|\n|\r)/gm, '').replace(/"/g, '""');
                    row.push('"' + data + '"');
                }
                csv.push(row.join(','));
            }
            
            const csvContent = csv.join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', filename + '_' + new Date().toISOString().split('T')[0] + '.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Client selection
        document.getElementById('clientSelect').addEventListener('change', function() {
            document.getElementById('reportClientName').textContent = this.options[this.selectedIndex].text;
        });

        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                if (this.textContent.includes('ELIGIBILITY & FILINGS')) {
                    window.location.href = 'eligibility-filings.html';
                } else if (this.textContent.includes('Opt-in Monitoring')) {
                    window.location.href = 'opt-in-monitoring.html';
                } else if (this.textContent.includes('Account Manager Dashboard')) {
                    window.location.href = 'account-manager-dashboard.html';
                } else {
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // Chart creation functions
        function createRecoveryByMonthChart() {
            const canvas = document.getElementById('recoveryByMonthChart');
            if (!canvas || typeof Chart === 'undefined') return;
            
            const ctx = canvas.getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                    datasets: [{
                        label: 'Recovered ($)',
                        data: [0, 0, 145000, 0, 0, 783416, 0, 180750, 0, 2499756],
                        backgroundColor: 'rgba(16, 124, 16, 0.8)',
                        borderColor: '#107c10',
                        borderWidth: 2,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return '$' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + (value / 1000).toFixed(0) + 'K';
                                },
                                font: { size: 9 }
                            },
                            grid: { color: 'rgba(0, 0, 0, 0.05)' }
                        },
                        x: {
                            ticks: { font: { size: 9 } },
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        function createTopCompaniesChart() {
            const canvas = document.getElementById('topCompaniesChart');
            if (!canvas || typeof Chart === 'undefined') return;
            
            // Calculate top companies by recovery
            const companyTotals = {};
            settledData.forEach(row => {
                const recovered = parseFloat(row.recovered.replace(/[$,]/g, ''));
                if (!companyTotals[row.company]) {
                    companyTotals[row.company] = 0;
                }
                companyTotals[row.company] += recovered;
            });
            
            const sorted = Object.entries(companyTotals)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 10);
            
            const ctx = canvas.getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sorted.map(item => item[0].substring(0, 12)),
                    datasets: [{
                        label: 'Recovered ($)',
                        data: sorted.map(item => item[1]),
                        backgroundColor: 'rgba(0, 120, 212, 0.8)',
                        borderColor: '#0078d4',
                        borderWidth: 2,
                        borderRadius: 4
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return '$' + context.parsed.x.toLocaleString();
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + (value / 1000).toFixed(0) + 'K';
                                },
                                font: { size: 9 }
                            },
                            grid: { color: 'rgba(0, 0, 0, 0.05)' }
                        },
                        y: {
                            ticks: { font: { size: 9 } },
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // Enhanced export with FRT branding
        function exportTable(tableId, filename) {
            const table = document.getElementById(tableId);
            if (!table) return;
            
            let csv = [];
            
            // Add FRT branding header
            csv.push('FRT FINANCIAL RECOVERY TECHNOLOGIES LLC');
            csv.push('Status Report - ' + document.getElementById('reportClientName').textContent);
            csv.push('Period: ' + document.getElementById('reportPeriodStart').textContent + ' to ' + document.getElementById('reportPeriodEnd').textContent);
            csv.push('Generated: ' + new Date().toLocaleDateString());
            csv.push('');
            csv.push('Report Type: ' + document.querySelector('.report-tab.active').textContent);
            csv.push('');
            
            // Add table data
            const rows = table.querySelectorAll('tr');
            for (let i = 0; i < rows.length; i++) {
                const row = [];
                const cols = rows[i].querySelectorAll('td, th');
                for (let j = 0; j < cols.length; j++) {
                    let data = cols[j].innerText.replace(/(\r\n|\n|\r)/gm, '').replace(/"/g, '""');
                    row.push('"' + data + '"');
                }
                csv.push(row.join(','));
            }
            
            csv.push('');
            csv.push('This report is confidential and proprietary. Unauthorized distribution is prohibited.');
            csv.push('FRT Financial Recovery Technologies LLC | www.frtservices.com');
            
            const csvContent = csv.join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', filename + '_' + new Date().toISOString().split('T')[0] + '.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            populateSettledNewlyPaidTable();
            populateSettledTable();
            populateAntitrustNewlyPaidTable();
            populateAntitrustTable();
            populateNonusNewlyPaidTable();
            populateNonusTable();
            
            // Create charts after a short delay to ensure Chart.js is loaded
            setTimeout(() => {
                createRecoveryByMonthChart();
                createTopCompaniesChart();
            }, 500);
        });
    </script>
</body>
</html>

